package de.telran.abracadabra.games.myPenTest;

import java.awt.event.KeyEvent;
import java.awt.event.KeyListener;

public class GameKeyListener implements KeyListener {

    private final Player player; // Ссылка на игрока
    private final Game game; // Ссылка на игру
    private final SoundPlayer moveSound; // Звук при движении

    public GameKeyListener(Player player, Game game, SoundPlayer moveSound) {
        this.player = player;
        this.game = game;
        this.moveSound = moveSound;
    }

    @Override
    public void keyTyped(KeyEvent e) {

    }

    @Override
    public void keyPressed(KeyEvent e) {

        int key = e.getKeyCode();
        if (!game.gameOver) { // Если игра не завершена
            if (key == KeyEvent.VK_LEFT) { // Если нажата клавиша "влево"
                player.moveLeft(); // Перемещаем игрока влево
                moveSound.play(); // Звук при движении влево
            }
            if (key == KeyEvent.VK_RIGHT) { // Если нажата клавиша "вправо"
                player.moveRight(); // Перемещаем игрока вправо
                moveSound.play(); // Звук при движении вправо
            }
        }
    }

    @Override
    public void keyReleased(KeyEvent e) {

    }
}
